<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Robi & Sri Wedding</title>
  <link rel="icon" href="img/logo.png" type="image/png">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Sacramento&family=Work+Sans:wght@100;300;400;600;700&display=swap"
    rel="stylesheet">

  <!-- simplyCountdown -->
  <link rel="stylesheet" href="countdown/simplyCountdown.theme.default.css" />
  <script src="countdown/simplyCountdown.min.js"></script>

  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

  <link rel="stylesheet" href="style.css">
</head>

<body>

  <!-- slide satu -->
  <section id="hero" class="home">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-4 text-center">
          <img src="img/pp.png" class="img-fluid" alt="Robi & Sri">
          <br>
          <br>
          <h3><b>Undangan Pernikahan</b></h3>
          <h2>Robi & Sri</h2>
          <div class="row justify-content-center mt-4">
            <div class="col-md-8 col-6">
              <div class="card text-center text-bg-light mb-5">
                <div class="card-header">
                  <h1>Minggu<br>22 Juni 2025</h1>
                </div>
              </div>
            </div>
          </div>
          <p>Tanpa mengurangi rasa hormat, dengan ini kami akan melangsungkan pernikahan, dan kami mengundang
            Bapak/Ibu/Saudara/I untuk dapat menjadi bagian dari acara dan momen terindah kami.</p>
          <a href="#home" class="btn btn-lg mt-4 mb-5" onClick="enableScroll()"> <b class="bi-envelope-heart-fill"> Buka
              Undangan</b></a><br><br><br><br><br>
        </div>
      </div>
    </div>
  </section>

  <!-- slide dua -->
  <section id="home" class="home">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-8 text-center">
          <p class="font-arabic py-4 m-0">وَمِنْ اٰيٰتِهٖٓ اَنْ خَلَقَ لَكُمْ مِّنْ اَنْفُسِكُمْ اَزْوَاجًا
            لِّتَسْكُنُوْٓا اِلَيْهَا وَجَعَلَ بَيْنَكُمْ مَّوَدَّةً وَّرَحْمَةًۗ اِنَّ فِيْ ذٰلِكَ لَاٰيٰتٍ لِّقَوْمٍ
            يَّتَفَكَّرُوْنَ</p>
          <p>Di antara tanda-tanda (kebesaran)-Nya ialah bahwa Dia menciptakan pasangan-pasangan untukmu dari (jenis)
            dirimu sendiri agar kamu merasa tenteram kepadanya. Dia menjadikan di antaramu rasa cinta dan kasih sayang.
            Sesungguhnya pada yang demikian itu benar-benar terdapat tanda-tanda (kebesaran Allah) bagi kaum yang
            berpikir.</p>
          <p><b>Ar-Rum · Ayat 21</b></p>
          <br>
          <h2 class="font-esthetic py-4 m-0" style="font-size: 2rem;">Assalamualaikum Warahmatullahi Wabarakatuh</h2>
          <p>Tanpa mengurangi rasa hormat, kami bermaksud untuk mengundang Bapak/Ibu, Saudara/i, untuk hadir pada acara
            pernikahan kami: </p>
          <div class="row justify-content-center mt-4">
            <div class="col-md-5 col-6">
              <div class="card text-center text-bg-light mb-5">
                <div class="card-header">
                  <h3>Minggu<br>22 Juni 2025</h3>
                </div>
              </div>
            </div>
          </div>
          <div class="simply-countdown"></div>
        </div>

        <div class="row couple">
          <div class="col-lg-6">
            <div class="row">
              <div class="col-8 text-end">
                <h3>Robi Ahmadi</h3>
                <p>Anak Pertama dari Pasangan</p>
                <p>Bapak Rudi Salamudin <br> & <br> Ibu Desti Eti Rohayati</p>
                <p>Beralamat di Kp. Cadasngampar RT 18 RW 04, Ds. Kasomalang Wetan, Kec. Kasomalang, Kab. Subang</p>
              </div>
              <div class="col-4">
                <img src="img/robi.jpg" alt="Robi Ahmadi" class="img-responsive rounded-circle">
              </div>
            </div>
          </div>

          <span class="heart"><i class="bi bi-heart-fill"></i></span>

          <div class="col-lg-6">
            <div class="row">
              <div class="col-4">
                <img src="img/sri.jpg" alt="Sri" class="img-responsive rounded-circle">
              </div>
              <div class="col-8">
                <h3>Sri Susanti</h3>
                <p>Anak Terakhir dari Pasangan</p>
                <p>Bapak Dahlan <br> & <br>Ibu Yayat</p>
                <p>Beralamat di Kp. Cadasngampar RT 14 RW 04, Ds. Kasomalang Wetan, Kec. Kasomalang, Kab. Subang</p>
              </div>
            </div>
          </div>
        </div>
      </div>
  </section>

  <!-- slide tiga -->
  <section id="info" class="info">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-8 col-10 text-center">
          <h2>Informasi Acara</h2>
          <div class="row justify-content-center mt-4">
            <div class="col-md-6 col-6">
              <div class="card text-center text-bg-light mb-5">
                <div class="card-header">Akad Nikah</div>
                <div class="card-body">
                  <div class="row justify-content-center">
                    <div class="col-md-6">
                      <i class="bi bi-clock d-block"></i>
                      <span>08.00 - 09.00 WIB</span>
                    </div>
                    <div class="col-md-6">
                      <i class="bi bi-calendar3 d-block"></i>
                      <span>Minggu, 22 Juni 2025</span>
                    </div>
                  </div>
                </div>
                <div class="card-footer">
                  Saat acara akad diharapkan untuk kondusif menjaga ke-khidmatan dan ke-khusyuan seluruh prosesi.
                </div>
              </div>
            </div>
            <div class="col-md-6 col-6">
              <div class="card text-center text-bg-light">
                <div class="card-header">Resepsi</div>
                <div class="card-body">
                  <div class="row justify-content-center">
                    <div class="col-md-6">
                      <i class="bi bi-clock d-block"></i>
                      <span>09.00 WIB - selesai</span>
                    </div>
                    <div class="col-md-6">
                      <i class="bi bi-calendar3 d-block"></i>
                      <span>Minggu, 22 Juni 2025</span>
                    </div>
                  </div>
                </div>
                <div class="card-footer">
                  Saat acara akad diharapkan untuk kondusif menjaga ke-khidmatan dan ke-khusyuan seluruh prosesi.
                </div>
              </div>
            </div>
          </div>

          <p class="alamat">Alamat : Tempat Mempelai Wanita<br> Kp. Cadasngampar RT 14 RW 04, Ds. Kasomalang Wetan, Kec.
            Kasomalang, Kab. Subang</p>
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d18207.304579167212!2d107.74895619587929!3d-6.6969967331017815!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e6921001adb7afd%3A0xa7097c9eb5ee707c!2sLokasi%20pernikahan%20Robi%20%26%20Sri!5e0!3m2!1sid!2sid!4v1744330072818!5m2!1sid!2sid"
            width="100%" height="250" style="border:0;" allowfullscreen="" loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"></iframe>

          <a href="https://maps.app.goo.gl/js3Nt1LarNjFiSiMA" target="_blank"
            class="btn btn-lg mt-4 mb-5 bi bi-geo-alt-fill"> Map Lokasi Acara</a>
          <p class="description">Diharapkan untuk tidak salah alamat dan tanggal. Manakala tiba di tujuan namun tidak
            ada tanda-tanda sedang dilangsungkan pernikahan, boleh jadi Anda salah jadwal, atau salah tempat.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- slide empat -->
  <section id="gallery" class="gallery">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-8 col-10 text-center">
          <span>Memori Kisah Kami</span>
          <h2>Galeri Foto</h2>
        </div>
      </div>

      <div class="row row-cols-lg-4 row-cols-md-3 row-cols-sm-2 row-cols-1 justify-content-center">
        <div class="col-6 mt-3">
          <a href="img/gallery/1.jpg" data-toggle="lightbox" data-caption="Sri Susanti" data-gallery="mygallery">
            <img src="img/gallery/1.jpg" alt="Robi & Sri 1" class="img-fluid w-100">
          </a>
        </div>
        <div class="col-6 mt-3">
          <a href="img/gallery/2.jpg" data-toggle="lightbox" data-caption="Robi Ahmadi" data-gallery="mygallery">
            <img src="img/gallery/2.jpg" alt="Robi & Sri 2" class="img-fluid w-100">
          </a>
        </div>
        <div class="col-4 mt-3">
          <a href="img/gallery/3.jpg" data-toggle="lightbox" data-caption="Robi & Sri" data-gallery="mygallery">
            <img src="img/gallery/3.jpg" alt="Robi & Sri 3" class="img-fluid w-100">
          </a>
        </div>
        <div class="col-4 mt-3">
          <a href="img/gallery/4.jpg" data-toggle="lightbox" data-caption="Robi & Sri" data-gallery="mygallery">
            <img src="img/gallery/4.jpg" alt="Robi & Sri 4" class="img-fluid w-100">
          </a>
        </div>
        <div class="col-4 mt-3">
          <a href="img/gallery/5.jpg" data-toggle="lightbox" data-caption="Robi & Sri" data-gallery="mygallery">
            <img src="img/gallery/5.jpg" alt="Robi & Sri 5" class="img-fluid w-100">
          </a>
        </div>
        <div class="col-4 mt-3">
          <a href="img/gallery/6.jpg" data-toggle="lightbox" data-caption="Robi & Sri" data-gallery="mygallery">
            <img src="img/gallery/6.jpg" alt="Robi & Sri 6" class="img-fluid w-100">
          </a>
        </div>
        <div class="col-4 mt-3">
          <a href="img/gallery/7.jpg" data-toggle="lightbox" data-caption="Robi & Sri" data-gallery="mygallery">
            <img src="img/gallery/7.jpg" alt="Robi & Sri 7" class="img-fluid w-100">
          </a>
        </div>
        <div class="col-4 mt-3">
          <a href="img/gallery/8.jpg" data-toggle="lightbox" data-caption="Robi & Sri" data-gallery="mygallery">
            <img src="img/gallery/8.jpg" alt="Robi & Sri 8" class="img-fluid w-100">
          </a>
        </div>
        <div class="col-4 mt-3">
          <a href="img/gallery/9.jpg" data-toggle="lightbox" data-caption="Robi & Sri" data-gallery="mygallery">
            <img src="img/gallery/9.jpg" alt="Robi & Sri 9" class="img-fluid w-100">
          </a>
        </div>
        <div class="col-4 mt-3">
          <a href="img/gallery/10.jpg" data-toggle="lightbox" data-caption="Robi & Sri" data-gallery="mygallery">
            <img src="img/gallery/10.jpg" alt="Robi & Sri 10" class="img-fluid w-100">
          </a>
        </div>
        <div class="col-4 mt-3">
          <a href="img/gallery/11.jpg" data-toggle="lightbox" data-caption="Robi & Sri" data-gallery="mygallery">
            <img src="img/gallery/11.jpg" alt="Robi & Sri 11" class="img-fluid w-100">
          </a>
        </div>
        <div class="col-6 mt-3">
          <a href="img/gallery/12.jpg" data-toggle="lightbox" data-caption="Robi & Sri" data-gallery="mygallery">
            <img src="img/gallery/12.jpg" alt="Robi & Sri 12" class="img-fluid w-100">
          </a>
        </div>
        <div class="col-6 mt-3">
          <a href="img/gallery/13.jpg" data-toggle="lightbox" data-caption="Robi & Sri" data-gallery="mygallery">
            <img src="img/gallery/13.jpg" alt="Robi & Sri 13" class="img-fluid w-100">
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- slide lima -->
  <section id="rsvp" class="rsvp">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-8 col-10 text-center">
          <p><b>Ungkapan Tanda Kasih</b></p>
          <h2>Kirim Hadiah</h2>
          <p>Doa restu Bapak/Ibu/Saudara/i sekalian merupakan karunia yang sangat berarti bagi kami. Dan jika memberi
            merupakan ungkapan tanda kasih, Bapak/Ibu/Saudara/i dapat memberi kado secara cashless. Terima kasih
          </p>
        </div>
      </div>
      <div class="row justify-content-center mt-4">
        <div class="col-md-5 col-5">
          <div class="card text-center text-bg-light mb-5">
            <div class="card-header"><b>Bank MANDIRI</b></div>
            <div class="card-body">
              <div class="row justify-content-center">
                <div class="col-md-6">
                  <span id="rekeningMandiri1">No. Rekening</span>
                  <br><span id="noRekening1"><b>1310022670527</b></span>
                </div>
                <div class="col-md-6">
                  <span>Nama Rekening</span>
                  <br><span><b>ROBI AHMADI</b></span>
                </div>
              </div>
            </div>
            <div class="card-footer">
              <button class="btn btn-lg mt-2 mb-2 bi bi-clipboard-fill" onclick="salinRekening('noRekening1')">
                salin nomor</button>
            </div>
          </div>
        </div>
        <div class="col-md-5 col-5">
          <div class="card text-center text-bg-light">
            <div class="card-header"><b>Bank MANDIRI</b></div>
            <div class="card-body">
              <div class="row justify-content-center">
                <div class="col-md-6">
                  <span id="rekeningMandiri2">No. Rekening</span>
                  <br><span id="noRekening2"><b>1730011741072</b></span>
                </div>
                <div class="col-md-6">
                  <span>Nama Rekening</span>
                  <br><span><b>SRI SUSANTI</b></span>
                </div>
              </div>
            </div>
            <div class="card-footer">
              <button class="btn btn-lg mt-2 mb-2 bi bi-clipboard-fill" onclick="salinRekening('noRekening2')">
                salin nomor</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- slide enam -->


  <!-- slide tujuh -->
  <section id="gifts" class="gifts">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-8 col-10 text-center">
          <h2>Turut Mengundang</h2>
          <p></p>
          <p></p>
        </div>
      </div>
      <div class="row justify-content-center text-center">
        <div class="col-md-7">
          <ul class="list-group">
            <li class="list-group-item">
              <br>Bpk Rohidin (Kepala Desa Kasomalang Wetan)
              <br>Bpk H.Amirudin S.pd.I (Kepala Desa Kasomalang Kulon)
              <br>Kel. Besar Yayasan Nurul Gina Sindangsari
              <br>Kel. Besar Yayasan Al-Mudatsir (Bpk H. Anom Suhaya)
              <br>Kel. Besar Pondok Pesantren Al-Hidayah
              <br>Kel. Besar Gerakan Pramuka Kwarran Kasomalang
              <br>Kel. Besar GARDAPUSPA
              <br>Kel. Besar PUSPABRAKA
              <br>Kel. Besar Karang Taruna Cadasngampar
              <br>Kel. Bpk Karlan (Abah Engkar)
              <br>Kel. Bpk Rosadi (Abah Eros)
              <br>Bpk Didin (RW 04)
              <br>Bpk Robby Sofyan Ody S.Pd
              <br>Bpk Nanang Koyim, S.H., M.H.
              <br>Segenap Keluarga
            </li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- slide delapan -->
  <section id="closing" class="closing">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-8 col-10 text-center">
          <h2>Hiburan Pernikahan</h2>
        </div>
      </div>
      <div class="row justify-content-center mt-4">
        <div class="col-md-3 col-5">
          <div class="card text-center text-bg-light mb-5">
            <div class="card-header bi bi-music-note-beamed"><b> Organ Tunggal</b>
            </div>
          </div>
        </div>
      </div>
  </section>

  <!-- slide sembilan -->
  <section id="comment" class="rsvp">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-8 col-10 text-center">
          <h2>Ungkapan dan Doa</h2>
          <p>Tinggalkan kami doa terbaik anda untuk momen bahagia kami</p>
        </div>
      </div>
      <div class="row justify-content-center mt-4">
        <div class="col-md-10 col-10">
          <div class="card text-left text-bg-light mb-5">
            <div class="card-body">
              <div class="alert alert-success alert-dismissible fade show d-none my-alert" role="alert">
                <strong>Terima Kasih!</strong> Ucapan anda telah kami terima.
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Tutup"></button>
              </div>
              <form method="post" name="form-comment">
                <div class="mb-2">
                  <label for="name">Nama</label>
                  <input type="text" id="name" name="name" class="form-control" required>
                </div>
                <div class="mb-2">
                  <label for="comment">Ucapan</label>
                  <textarea id="comment" name="comment" class="form-control" style="height: 120px;" required></textarea>
                </div>
                <br>
                <button type="submit" id="button" class="btn btn-primary btn-kirim bi bi-send-fill"> Kirim</button>
                <button class="btn btn-danger btn-loading d-none" type="button" disabled>
                  <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                  Loading...
                </button>
              </form>
            </div>
          </div>
          <!-- Daftar Komentar -->
          <div class="card">
            <div class="card-body">
              <div id="comment-list"></div>
              <div id="pagination" class="mt-3 text-center"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="closing" class="closing">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-8 col-10 text-center">
          <h1>Terima Kasih</h1>
          <p>Atas Doa Restunya kami ucapkan terimaksih.</p>
          <br>
          <p>Kami Yang Berbahagia, <br>Keluarga Besar Kedua Mempelai</p>
          <br>
          <h2>Robi & Sri</h2>
        </div>
      </div>
    </div>
  </section>

  <footer>
    <div class="container mt-4 mb-4">
      <div class="row">
        <div class="col text-center">
          <small class="block"><b>Robi & Sri Wedding</b></small>
          <br>
          <small class="block">Created and Designed by <a href="https://instagram.com/mhlmn_023/"><br>H23 Art
              Design</a></small>
          <br>
          <small class="block">Follow us on:</small>
          <br>
          <a href="https://www.linkedin.com/in/hilman023/" target="_blank" style="margin: 0 5px; color: #0e76a8;">
            <i class="bi bi-linkedin"></i>
          </a>
          <a href="https://www.facebook.com/maulanahilman023/" target="_blank" style="margin: 0 5px; color: #3b5998;">
            <i class="bi bi-facebook"></i>
          </a>
          <a href="https://www.instagram.com/mhlmn_023/" target="_blank" style="margin: 0 5px; color: #C13584;">
            <i class="bi bi-instagram"></i>
          </a>
          <a href="https://wa.me/6283194588090" target="_blank" style="margin: 0 5px; color: #25D366;">
            <i class="bi bi-whatsapp"></i>
          </a>
        </div>
      </div>
    </div>
  </footer>

  <div id="audio-container">
    <audio id="song" autoplay loop>
      <source src="audio/save-and-sound.mp3" type="audio/mp3">
    </audio>

    <div class="audio-icon-wrapper" style="display: none;">
      <i class="bi bi-disc"></i>
    </div>
  </div>


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous">
    </script>

  <script src="https://cdn.jsdelivr.net/npm/bs5-lightbox@1.8.3/dist/index.bundle.min.js"></script>

  <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
    crossorigin="anonymous"></script>

  <script>
    simplyCountdown('.simply-countdown', {
      year: 2025, // required
      month: 6, // required
      day: 22, // required
      hours: 8, // Default is 0 [0-23] integer
      words: { //words displayed into the countdown
        days: {
          singular: 'hari',
          plural: 'hari'
        },
        hours: {
          singular: 'jam',
          plural: 'jam'
        },
        minutes: {
          singular: 'menit',
          plural: 'menit'
        },
      },
    });
  </script>

  <script>
    const rootElement = document.querySelector(":root");
    const audioIconWrapper = document.querySelector('.audio-icon-wrapper');
    const audioIcon = document.querySelector('.audio-icon-wrapper i');
    const song = document.querySelector('#song');
    let isPlaying = false;

    function disableScroll() {
      scrollTop = window.pageYOffset || document.documentElement.scrollTop;
      scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;

      window.onscroll = function () {
        window.scrollTo(scrollTop, scrollLeft);
      }

      rootElement.style.scrollBehavior = 'auto';
    }

    function enableScroll() {
      window.onscroll = function () { }
      rootElement.style.scrollBehavior = 'smooth';
      // localStorage.setItem('opened', 'true');
      playAudio();
    }

    function playAudio() {
      audioIconWrapper.style.display = 'flex';
      song.play();
      isPlaying = true;
    }

    audioIconWrapper.onclick = function () {
      if (isPlaying) {
        song.pause();
        audioIcon.classList.remove('bi-disc');
        audioIcon.classList.add('bi-pause-circle');
      } else {
        song.play();
        audioIcon.classList.add('bi-disc');
        audioIcon.classList.remove('bi-pause-circle');
      }

      isPlaying = !isPlaying;
    }

    // if (!localStorage.getItem('opened')) {
    //   disableScroll();
    // }
    disableScroll();
  </script>

  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const nama = urlParams.get('n') || '';
    const pronoun = urlParams.get('p') || 'Bapak/Ibu/Saudara/i';
    const namaContainer = document.querySelector('.hero h4 span');
    namaContainer.innerText = `${pronoun} ${nama},`.replace(/ ,$/, ',');

    document.querySelector('#nama').value = nama;
  </script>

  <!-- Script Google Form -->
  <script>
    const scriptURL = 'https://script.google.com/macros/s/AKfycbwYTujwEPkGQOzhcbgiaWm_BTqze9ONP6ddc6zce8Nb1tp-cCtEvBBnz6ZILNBjXrzb/exec';
    const form = document.forms['form-comment'];

    const btnKirim = document.querySelector('.btn-kirim');
    const btnLoading = document.querySelector('.btn-loading');
    const myAlert = document.querySelector('.my-alert');

    form.addEventListener('submit', e => {
      e.preventDefault();

      btnLoading.classList.toggle('d-none');
      btnKirim.classList.toggle('d-none');

      fetch(scriptURL, {
        method: 'POST',
        body: new FormData(form)
      })
        .then(response => {
          btnLoading.classList.toggle('d-none');
          btnKirim.classList.toggle('d-none');
          myAlert.classList.remove('d-none');
          form.reset();

          setTimeout(() => {
            getData();
          }, 1000);
        })
        .catch(error => console.error('Error!', error.message));
    });

    // Ambil data komentar dari spreadsheet
    let allComments = [];
    let commentsPerPage = 4;
    let currentPage = 1;

    function getData() {
      $.ajax({
        url: 'https://script.google.com/macros/s/AKfycbwMkEiUooIrxN-YsV_7NzYrG8g8NK2-VX_1iH406PngIaPyQpWx610AFl5dVZ7wPehr/exec',
        method: 'GET',
        dataType: 'json',
        success: function (data) {
          // Urutkan berdasarkan timestamp terbaru
          allComments = data.data.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
          renderComments();
        },
        beforeSend: function () {
          $('#comment-list').html('<h5 class="text-muted">Memuat komentar...</h5>');
        }
      });
    }

    function renderComments() {
      const start = (currentPage - 1) * commentsPerPage;
      const end = start + commentsPerPage;
      const visible = allComments.slice(start, end);

      let html = "";
      visible.forEach((comment, index) => {
        const id = btoa(comment.timestamp + comment.name + comment.comment); // ID unik untuk komentar
        const liked = localStorage.getItem(`liked_${id}`) === 'true';

        html += `
        <div class="comment-box">
          <img src="img/icon.png" alt="emoji">
          <div class="comment-content">
            <div class="comment-header">${comment.name}</div>
            <div class="comment-time">${waktuLalu(comment.timestamp)}</div>
            <div class="comment-text">${comment.comment}</div>
          </div>
        </div>`;
      });

      document.getElementById("comment-list").innerHTML = html;
      renderPagination();
    }

    function renderPagination() {
      const totalPages = Math.ceil(allComments.length / commentsPerPage);
      const pagination = document.getElementById("pagination");
      pagination.innerHTML = "";

      for (let i = 1; i <= totalPages; i++) {
        const btn = document.createElement("button");
        btn.innerText = i;
        btn.className = "btn btn-outline-danger btn-sm";
        if (i === currentPage) btn.disabled = true;
        btn.onclick = function () {
          currentPage = i;
          renderComments();
        };
        pagination.appendChild(btn);
      }
    }

    function waktuLalu(isoString) {
      const sekarang = new Date();
      const target = new Date(isoString);

      const selisihMs = sekarang - target;

      const detik = Math.floor(selisihMs / 1000);
      const menit = Math.floor(detik / 60);
      const jam = Math.floor(menit / 60);
      const hari = Math.floor(jam / 24);

      if (hari > 0) return `${hari} hari, ${jam % 24} jam lalu`;
      if (jam > 0) return `${jam} jam lalu`;
      if (menit > 0) return `${menit} menit lalu`;
      return `${detik} detik lalu`;
    }

    getData(); // awal ambil komentar
  </script>

  <script>
    function salinRekening(id) {
      const rekening = document.getElementById(id).textContent;
      navigator.clipboard.writeText(rekening)
        .then(() => {
          alert("Nomor rekening berhasil disalin: ");
        })
        .catch(err => {
          console.error("Gagal menyalin teks: ", err);
        });
    }
  </script>

</body>

</html>